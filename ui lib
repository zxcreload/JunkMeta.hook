-- ClickGUI by @uniquadev, redesigned for Luau executors with sections per tab

local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")

-- Настройки позиций элементов (X, Y)
local Positions = {
    MainFrame = { X = 0.26, Y = 0.2 },
    TabsContainer = { X = 0.26, Y = 0.3 },
    TitleLabel = { X = 0, Y = 0.013 },
    TabButton1 = { X = 0.04, Y = 0 },
    TabButton2 = { X = 0.04, Y = 0.12 },
    Section1 = { X = 0.34, Y = 0.223 }, -- Первая секция
    Section2 = { X = 0.48, Y = 0.223 }, -- Вторая секция
}

-- Создание ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = Players.LocalPlayer.PlayerGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Главный фрейм
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 680, 0, 450)
MainFrame.Position = UDim2.new(Positions.MainFrame.X, 0, Positions.MainFrame.Y, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BackgroundTransparency = 0.11
MainFrame.Parent = ScreenGui

-- Панель вкладок
local TabsFrame = Instance.new("Frame")
TabsFrame.Size = UDim2.new(0, 142, 0, 450)
TabsFrame.BackgroundColor3 = Color3.fromRGB(26, 36, 49)
TabsFrame.BackgroundTransparency = 0.6
TabsFrame.Parent = MainFrame

-- Название GUI
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(0, 142, 0, 50)
TitleLabel.Position = UDim2.new(Positions.TitleLabel.X, 0, Positions.TitleLabel.Y, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "NEVERHOOK"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 23
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextStrokeTransparency = 0.4
TitleLabel.TextStrokeColor3 = Color3.fromRGB(32, 72, 114)
TitleLabel.TextWrapped = true
TitleLabel.Parent = TabsFrame

-- Фрейм для вкладок
local TabsContainer = Instance.new("Frame")
TabsContainer.Size = UDim2.new(0, 142, 0, 320)
TabsContainer.Position = UDim2.new(Positions.TabsContainer.X, 0, Positions.TabsContainer.Y, 0)
TabsContainer.BackgroundTransparency = 1
TabsContainer.Parent = ScreenGui

-- Создание вкладок и их секций
local Tabs = {
    {
        Name = "Combat",
        ButtonPosition = Positions.TabButton1,
        Sections = {
            {
                Name = "CombatSection1",
                Position = Positions.Section1,
            },
            {
                Name = "CombatSection2",
                Position = Positions.Section2,
            },
        },
    },
    {
        Name = "VisualTab",
        ButtonPosition = Positions.TabButton2,
        Sections = {
            {
                Name = "VisualSection1",
                Position = Positions.Section1,
            },
            {
                Name = "VisualSection2",
                Position = Positions.Section2,
            },
        },
    },
}

-- Функция для создания секции
local function CreateSection(sectionData, parent)
    local Section = Instance.new("ScrollingFrame")
    Section.Size = UDim2.new(0, 240, 0, 180)
    Section.Position = UDim2.new(sectionData.Position.X, 0, sectionData.Position.Y, 0)
    Section.BackgroundColor3 = Color3.fromRGB(0, 30, 57)
    Section.BackgroundTransparency = 0.4
    Section.ScrollBarThickness = 6
    Section.ScrollBarImageColor3 = Color3.fromRGB(4, 169, 246)
    Section.Name = sectionData.Name
    Section.Visible = false
    Section.Parent = parent
    return Section
end

-- Контейнер для секций
local SectionsFolder = Instance.new("Folder")
SectionsFolder.Name = "Sections"
SectionsFolder.Parent = ScreenGui

-- Создание вкладок и их кнопок
local ActiveTab = Tabs[1] -- Первая вкладка активна по умолчанию

for i, tab in ipairs(Tabs) do
    -- Создание кнопки вкладки
    local TabButton = Instance.new("TextButton")
    TabButton.Size = UDim2.new(0, 130, 0, 30)
    TabButton.Position = UDim2.new(tab.ButtonPosition.X, 0, tab.ButtonPosition.Y, 0)
    TabButton.BackgroundColor3 = Color3.fromRGB(10, 49, 69)
    TabButton.BackgroundTransparency = 0.1
    TabButton.Text = tab.Name
    TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.TextSize = 18
    TabButton.Font = Enum.Font.SourceSansBold
    TabButton.TextWrapped = true
    TabButton.Parent = TabsContainer
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0.2, 1)
    UICorner.Parent = TabButton

    -- Создание секций для вкладки
    tab.SectionsInstances = {}
    for _, sectionData in ipairs(tab.Sections) do
        local Section = CreateSection(sectionData, SectionsFolder)
        table.insert(tab.SectionsInstances, Section)
    end

    -- Логика переключения вкладок
    TabButton.MouseButton1Click:Connect(function()
        -- Скрыть секции текущей активной вкладки
        for _, section in ipairs(ActiveTab.SectionsInstances) do
            section.Visible = false
        end
        -- Показать секции новой вкладки
        for _, section in ipairs(tab.SectionsInstances) do
            section.Visible = true
        end
        ActiveTab = tab
    end)
end

-- Показать секции первой вкладки по умолчанию
for _, section in ipairs(Tabs[1].SectionsInstances) do
    section.Visible = true
end

-- Эффект размытия
local function ApplyBlurEffect()
    local Blur = Instance.new("BlurEffect")
    Blur.Size = 10
    Blur.Enabled = true
    Blur.Parent = Lighting

    -- Очистка при уничтожении GUI
    ScreenGui.AncestryChanged:Connect(function()
        if not ScreenGui:IsDescendantOf(game) then
            Blur:Destroy()
        end
    end)
end

-- Применение размытия
ApplyBlurEffect()

return ScreenGui
